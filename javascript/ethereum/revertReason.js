const ethers = require("ethers");

// 1. Set up provider (no signer needed for estimation)
const provider = new ethers.JsonRpcProvider("https://puppynet.shibrpc.com");

// 2. Define raw transaction data
const tx = {
  from: "0xf518ccac8adf316b99ca226fec4359fac56db5c6", // Replace with sender address
  to: "0x0f632DbAB51baEb59443cFDA294F9Fa7F93cafb4", // Contract or recipient address
  data: "0x15d0e1460000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002a0cab60000000000000000000000000000000000000000000000000000000000000000000000000000000000008d5d6054087e3e5d9566c7b7037f133fc3baccdd000000000000000000000000b6ba315c9b334f874f57e4d4a35a1257cbd301850000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000bb56cfdd9d9ffd449f53a96457cbdcbdb003836e00000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000f77c9904312defe7000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b6ba315c9b334f874f57e4d4a35a1257cbd30185000000000000000000000000eeed224003bea02338c552677b14f5f8d2269fba000000000000000000000000bb56cfdd9d9ffd449f53a96457cbdcbdb003836e000000000000000000000000f518ccac8adf316b99ca226fec4359fac56db5c600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030d4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", // Hex string of function call (calldata)
  value: "0xd0e9d20c6764", // Optional, only if sending ETH
  gasPrice: "0x58c7a1",
  gasLimit: "0x61a80",
};
// 3. Estimate gas
async function estimateGasFromData() {
  try {
    const gas = await provider.estimateGas(tx);
    console.log(`Estimated Gas: ${gas}`);
  } catch (err) {
    console.error("Gas estimation failed:", err);
  }
}

estimateGasFromData();
